<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/pamproject/data/WorkoutRepository.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/pamproject/data/WorkoutRepository.kt" />
              <option name="originalContent" value="package com.example.pamproject.data&#10;&#10;import android.content.Context&#10;import com.example.pamproject.model.DailyProgress&#10;import com.example.pamproject.model.DailyStats&#10;import com.example.pamproject.model.WorkoutLog&#10;import org.json.JSONArray&#10;import org.json.JSONObject&#10;import java.time.LocalDate&#10;import java.time.LocalDateTime&#10;import java.time.LocalTime&#10;import java.time.ZoneId&#10;import java.time.format.TextStyle&#10;import java.util.Locale&#10;&#10;class WorkoutRepository(private val context: Context) {&#10;    private val sharedPreferences =&#10;        context.getSharedPreferences(PREF_NAME, Context.MODE_PRIVATE)&#10;&#10;    fun loadLogs(): List&lt;WorkoutLog&gt; {&#10;        val raw = sharedPreferences.getString(KEY_WORKOUT_LOGS, null) ?: return emptyList()&#10;        return try {&#10;            val jsonArray = JSONArray(raw)&#10;            List(jsonArray.length()) { index -&gt;&#10;                jsonArray.getJSONObject(index).toWorkoutLog()&#10;            }&#10;        } catch (_: Exception) {&#10;            emptyList()&#10;        }&#10;    }&#10;&#10;    fun saveLogs(logs: List&lt;WorkoutLog&gt;) {&#10;        val jsonArray = JSONArray().apply {&#10;            logs.forEach { log -&gt;&#10;                put(log.toJson())&#10;            }&#10;        }&#10;        sharedPreferences.edit().putString(KEY_WORKOUT_LOGS, jsonArray.toString()).apply()&#10;    }&#10;&#10;    fun addLog(log: WorkoutLog): List&lt;WorkoutLog&gt; {&#10;        val updated = loadLogs() + log&#10;        saveLogs(updated)&#10;        return updated&#10;    }&#10;&#10;    fun deleteLog(log: WorkoutLog): List&lt;WorkoutLog&gt; {&#10;        val updated = loadLogs().filterNot { it.timestamp == log.timestamp }&#10;        saveLogs(updated)&#10;        return updated&#10;    }&#10;&#10;    fun clearLogs(): List&lt;WorkoutLog&gt; {&#10;        saveLogs(emptyList())&#10;        return emptyList()&#10;    }&#10;&#10;    fun calculateTodayStats(logs: List&lt;WorkoutLog&gt;): DailyStats {&#10;        val today = LocalDate.now().toString()&#10;        val todayLogs = logs.filter { it.date == today }&#10;        val totalDuration = todayLogs.sumOf { it.durationMinutes }&#10;        val totalCalories = todayLogs.sumOf { it.calories }&#10;        return DailyStats(&#10;            totalDurationMinutes = totalDuration,&#10;            totalCalories = totalCalories,&#10;            streak = calculateStreak(logs)&#10;        )&#10;    }&#10;&#10;    fun getRecentProgress(logs: List&lt;WorkoutLog&gt;, days: Int = 7): List&lt;DailyProgress&gt; {&#10;        val today = LocalDate.now()&#10;        return (0 until days).map { index -&gt;&#10;            val date = today.minusDays((days - 1 - index).toLong())&#10;            val label = date.dayOfWeek.getDisplayName(TextStyle.SHORT, Locale.getDefault())&#10;            val logsForDate = logs.filter { it.date == date.toString() }&#10;&#10;            DailyProgress(&#10;                dateLabel = label,&#10;                totalCalories = logsForDate.sumOf { it.calories },&#10;                totalDurationMinutes = logsForDate.sumOf { it.durationMinutes }&#10;            )&#10;        }&#10;    }&#10;&#10;    private fun calculateStreak(logs: List&lt;WorkoutLog&gt;): Int {&#10;        if (logs.isEmpty()) return 0&#10;        val uniqueDates = logs.mapNotNull {&#10;            runCatching { LocalDate.parse(it.date) }.getOrNull()&#10;        }.distinct().sortedDescending()&#10;&#10;        var streak = 0&#10;        var cursor = LocalDate.now()&#10;        for (date in uniqueDates) {&#10;            if (date == cursor) {&#10;                streak++&#10;                cursor = cursor.minusDays(1)&#10;            } else {&#10;                break&#10;            }&#10;        }&#10;        return streak&#10;    }&#10;&#10;    private fun JSONObject.toWorkoutLog(): WorkoutLog {&#10;        val date = optString(&quot;date&quot;, LocalDate.now().toString())&#10;        val time = optString(&quot;time&quot;, &quot;00:00&quot;)&#10;        val storedTimestamp = optLong(&quot;timestamp&quot;, -1L)&#10;        val imageUri = optString(&quot;imageUri&quot;, null)&#10;&#10;        // If no timestamp stored, create one from date + time&#10;        val timestamp = if (storedTimestamp == -1L) {&#10;            try {&#10;                val localDate = LocalDate.parse(date)&#10;                val localTime = LocalTime.parse(time)&#10;                val dateTime = LocalDateTime.of(localDate, localTime)&#10;                dateTime.atZone(ZoneId.systemDefault()).toInstant().toEpochMilli()&#10;            } catch (e: Exception) {&#10;                0L // Very old timestamp so it appears last&#10;            }&#10;        } else {&#10;            storedTimestamp&#10;        }&#10;&#10;        return WorkoutLog(&#10;            date = date,&#10;            time = time,&#10;            workout = optString(&quot;workout&quot;),&#10;            durationMinutes = optDouble(&quot;duration&quot;),&#10;            calories = optDouble(&quot;calories&quot;),&#10;            timestamp = timestamp,&#10;            imageUri = imageUri&#10;        )&#10;    }&#10;&#10;    private fun WorkoutLog.toJson(): JSONObject {&#10;        return JSONObject().apply {&#10;            put(&quot;date&quot;, date)&#10;            put(&quot;time&quot;, time)&#10;            put(&quot;workout&quot;, workout)&#10;            put(&quot;duration&quot;, durationMinutes)&#10;            put(&quot;calories&quot;, calories)&#10;            put(&quot;timestamp&quot;, timestamp)&#10;            if (imageUri != null) {&#10;                put(&quot;imageUri&quot;, imageUri)&#10;            }&#10;        }&#10;    }&#10;&#10;    companion object {&#10;        private const val PREF_NAME = &quot;workout_prefs&quot;&#10;        private const val KEY_WORKOUT_LOGS = &quot;workoutLogs&quot;&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.pamproject.data&#10;&#10;import android.content.Context&#10;import com.example.pamproject.model.DailyProgress&#10;import com.example.pamproject.model.DailyStats&#10;import com.example.pamproject.model.WorkoutLog&#10;import org.json.JSONArray&#10;import org.json.JSONObject&#10;import java.time.LocalDate&#10;import java.time.LocalDateTime&#10;import java.time.LocalTime&#10;import java.time.ZoneId&#10;import java.time.format.TextStyle&#10;import java.util.Locale&#10;&#10;class WorkoutRepository(private val context: Context) {&#10;    private val sharedPreferences =&#10;        context.getSharedPreferences(PREF_NAME, Context.MODE_PRIVATE)&#10;&#10;    fun loadLogs(): List&lt;WorkoutLog&gt; {&#10;        val raw = sharedPreferences.getString(KEY_WORKOUT_LOGS, null) ?: return emptyList()&#10;        return try {&#10;            val jsonArray = JSONArray(raw)&#10;            List(jsonArray.length()) { index -&gt;&#10;                jsonArray.getJSONObject(index).toWorkoutLog()&#10;            }&#10;        } catch (_: Exception) {&#10;            emptyList()&#10;        }&#10;    }&#10;&#10;    fun saveLogs(logs: List&lt;WorkoutLog&gt;) {&#10;        val jsonArray = JSONArray().apply {&#10;            logs.forEach { log -&gt;&#10;                put(log.toJson())&#10;            }&#10;        }&#10;        sharedPreferences.edit().putString(KEY_WORKOUT_LOGS, jsonArray.toString()).apply()&#10;    }&#10;&#10;    fun addLog(log: WorkoutLog): List&lt;WorkoutLog&gt; {&#10;        val updated = loadLogs() + log&#10;        saveLogs(updated)&#10;        return updated&#10;    }&#10;&#10;    fun deleteLog(log: WorkoutLog): List&lt;WorkoutLog&gt; {&#10;        val updated = loadLogs().filterNot { it.timestamp == log.timestamp }&#10;        saveLogs(updated)&#10;        return updated&#10;    }&#10;&#10;    fun clearLogs(): List&lt;WorkoutLog&gt; {&#10;        saveLogs(emptyList())&#10;        return emptyList()&#10;    }&#10;&#10;    fun calculateTodayStats(logs: List&lt;WorkoutLog&gt;): DailyStats {&#10;        val today = LocalDate.now().toString()&#10;        val todayLogs = logs.filter { it.date == today }&#10;        val totalDuration = todayLogs.sumOf { it.durationMinutes }&#10;        val totalCalories = todayLogs.sumOf { it.calories }&#10;        return DailyStats(&#10;            totalDurationMinutes = totalDuration,&#10;            totalCalories = totalCalories,&#10;            streak = calculateStreak(logs)&#10;        )&#10;    }&#10;&#10;    fun getRecentProgress(logs: List&lt;WorkoutLog&gt;, days: Int = 7): List&lt;DailyProgress&gt; {&#10;        val today = LocalDate.now()&#10;        return (0 until days).map { index -&gt;&#10;            val date = today.minusDays((days - 1 - index).toLong())&#10;            val label = when (date.dayOfWeek.value) {&#10;                1 -&gt; &quot;Mon&quot;&#10;                2 -&gt; &quot;Tue&quot;&#10;                3 -&gt; &quot;Wed&quot;&#10;                4 -&gt; &quot;Thu&quot;&#10;                5 -&gt; &quot;Fri&quot;&#10;                6 -&gt; &quot;Sat&quot;&#10;                7 -&gt; &quot;Sun&quot;&#10;                else -&gt; &quot;---&quot;&#10;            }&#10;            val logsForDate = logs.filter { it.date == date.toString() }&#10;&#10;            DailyProgress(&#10;                dateLabel = label,&#10;                totalCalories = logsForDate.sumOf { it.calories },&#10;                totalDurationMinutes = logsForDate.sumOf { it.durationMinutes }&#10;            )&#10;        }&#10;    }&#10;&#10;    private fun calculateStreak(logs: List&lt;WorkoutLog&gt;): Int {&#10;        if (logs.isEmpty()) return 0&#10;        val uniqueDates = logs.mapNotNull {&#10;            runCatching { LocalDate.parse(it.date) }.getOrNull()&#10;        }.distinct().sortedDescending()&#10;&#10;        var streak = 0&#10;        var cursor = LocalDate.now()&#10;        for (date in uniqueDates) {&#10;            if (date == cursor) {&#10;                streak++&#10;                cursor = cursor.minusDays(1)&#10;            } else {&#10;                break&#10;            }&#10;        }&#10;        return streak&#10;    }&#10;&#10;    private fun JSONObject.toWorkoutLog(): WorkoutLog {&#10;        val date = optString(&quot;date&quot;, LocalDate.now().toString())&#10;        val time = optString(&quot;time&quot;, &quot;00:00&quot;)&#10;        val storedTimestamp = optLong(&quot;timestamp&quot;, -1L)&#10;        val imageUri = optString(&quot;imageUri&quot;, null)&#10;&#10;        // If no timestamp stored, create one from date + time&#10;        val timestamp = if (storedTimestamp == -1L) {&#10;            try {&#10;                val localDate = LocalDate.parse(date)&#10;                val localTime = LocalTime.parse(time)&#10;                val dateTime = LocalDateTime.of(localDate, localTime)&#10;                dateTime.atZone(ZoneId.systemDefault()).toInstant().toEpochMilli()&#10;            } catch (e: Exception) {&#10;                0L // Very old timestamp so it appears last&#10;            }&#10;        } else {&#10;            storedTimestamp&#10;        }&#10;&#10;        return WorkoutLog(&#10;            date = date,&#10;            time = time,&#10;            workout = optString(&quot;workout&quot;),&#10;            durationMinutes = optDouble(&quot;duration&quot;),&#10;            calories = optDouble(&quot;calories&quot;),&#10;            timestamp = timestamp,&#10;            imageUri = imageUri&#10;        )&#10;    }&#10;&#10;    private fun WorkoutLog.toJson(): JSONObject {&#10;        return JSONObject().apply {&#10;            put(&quot;date&quot;, date)&#10;            put(&quot;time&quot;, time)&#10;            put(&quot;workout&quot;, workout)&#10;            put(&quot;duration&quot;, durationMinutes)&#10;            put(&quot;calories&quot;, calories)&#10;            put(&quot;timestamp&quot;, timestamp)&#10;            if (imageUri != null) {&#10;                put(&quot;imageUri&quot;, imageUri)&#10;            }&#10;        }&#10;    }&#10;&#10;    companion object {&#10;        private const val PREF_NAME = &quot;workout_prefs&quot;&#10;        private const val KEY_WORKOUT_LOGS = &quot;workoutLogs&quot;&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/pamproject/ui/screen/DashboardScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/pamproject/ui/screen/DashboardScreen.kt" />
              <option name="originalContent" value="package com.example.pamproject.ui.screen&#10;&#10;import androidx.compose.foundation.BorderStroke&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.border&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Box&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.Row&#10;import androidx.compose.foundation.layout.Spacer&#10;import androidx.compose.foundation.layout.fillMaxSize&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.height&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.foundation.layout.size&#10;import androidx.compose.foundation.lazy.grid.GridCells&#10;import androidx.compose.foundation.lazy.grid.LazyVerticalGrid&#10;import androidx.compose.foundation.lazy.grid.items&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.width&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.AccessTime&#10;import androidx.compose.material.icons.filled.AccessibilityNew&#10;import androidx.compose.material.icons.filled.Bolt&#10;import androidx.compose.material.icons.filled.CalendarToday&#10;import androidx.compose.material.icons.filled.Delete&#10;import androidx.compose.material.icons.filled.DeleteForever&#10;import androidx.compose.material.icons.filled.DirectionsBike&#10;import androidx.compose.material.icons.filled.DirectionsRun&#10;import androidx.compose.material.icons.filled.DirectionsWalk&#10;import androidx.compose.material.icons.filled.FitnessCenter&#10;import androidx.compose.material.icons.filled.LocalFireDepartment&#10;import androidx.compose.material.icons.filled.SelfImprovement&#10;import androidx.compose.material.icons.filled.Whatshot&#10;import androidx.compose.material3.AlertDialog&#10;import androidx.compose.material3.Button&#10;import androidx.compose.material3.ButtonDefaults&#10;import androidx.compose.material3.Card&#10;import androidx.compose.material3.CardDefaults&#10;import androidx.compose.material3.ExperimentalMaterial3Api&#10;import androidx.compose.material3.Icon&#10;import androidx.compose.material3.IconButton&#10;import androidx.compose.material3.MaterialTheme&#10;import androidx.compose.material3.OutlinedButton&#10;import androidx.compose.material3.Scaffold&#10;import androidx.compose.material3.Text&#10;import androidx.compose.material3.TopAppBar&#10;import androidx.compose.material3.TopAppBarDefaults&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.mutableStateOf&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.runtime.setValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Brush&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.Dp&#10;import androidx.compose.ui.unit.dp&#10;import coil.compose.rememberAsyncImagePainter&#10;import com.example.pamproject.model.DailyProgress&#10;import com.example.pamproject.model.DailyStats&#10;import com.example.pamproject.model.Workout&#10;import com.example.pamproject.model.WorkoutLog&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun DashboardScreen(&#10;    stats: DailyStats,&#10;    progress: List&lt;DailyProgress&gt;,&#10;    workouts: List&lt;Workout&gt;,&#10;    logs: List&lt;WorkoutLog&gt;,&#10;    onWorkoutClick: (Int) -&gt; Unit,&#10;    onDeleteLog: (WorkoutLog) -&gt; Unit,&#10;    onDeleteAllLogs: () -&gt; Unit,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    var logToDelete by remember { mutableStateOf&lt;WorkoutLog?&gt;(null) }&#10;    var showDeleteAllDialog by remember { mutableStateOf(false) }&#10;    var selectedLog by remember { mutableStateOf&lt;WorkoutLog?&gt;(null) }&#10;&#10;    Box(modifier = modifier.fillMaxSize()) {&#10;        Scaffold(&#10;            topBar = {&#10;                TopAppBar(&#10;                    title = {&#10;                        Column {&#10;                            Text(&#10;                                text = &quot;Workit&quot;,&#10;                                style = MaterialTheme.typography.titleLarge,&#10;                                fontWeight = FontWeight.Bold,&#10;                                color = Color.White&#10;                            )&#10;                            Text(&#10;                                text = &quot;Stay consistent, stay strong&quot;,&#10;                                style = MaterialTheme.typography.bodySmall,&#10;                                color = Color.White.copy(alpha = 0.8f)&#10;                            )&#10;                        }&#10;                    },&#10;                    colors = TopAppBarDefaults.topAppBarColors(&#10;                        containerColor = MaterialTheme.colorScheme.background,&#10;                        titleContentColor = Color.White&#10;                    )&#10;                )&#10;            }&#10;        ) { innerPadding -&gt;&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .padding(innerPadding)&#10;                    .background(MaterialTheme.colorScheme.background)&#10;                    .verticalScroll(rememberScrollState())&#10;                    .padding(20.dp),&#10;                verticalArrangement = Arrangement.spacedBy(18.dp)&#10;            ) {&#10;                GreetingCard()&#10;&#10;                StatsCard(&#10;                    stats = stats,&#10;                    progress = progress&#10;                )&#10;&#10;                Text(&#10;                    text = &quot;Pilih Workout&quot;,&#10;                    style = MaterialTheme.typography.titleMedium.copy(fontWeight = FontWeight.Bold),&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = MaterialTheme.colorScheme.onBackground&#10;                )&#10;&#10;                LazyVerticalGrid(&#10;                    columns = GridCells.Fixed(3),&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .height(((workouts.size / 3 + if (workouts.size % 3 != 0) 1 else 0) * 140).dp),&#10;                    verticalArrangement = Arrangement.spacedBy(10.dp),&#10;                    horizontalArrangement = Arrangement.spacedBy(10.dp),&#10;                    userScrollEnabled = false&#10;                ) {&#10;                    items(workouts, key = { it.id }) { workout -&gt;&#10;                        WorkoutOptionCard(&#10;                            workout = workout,&#10;                            onClick = { onWorkoutClick(workout.id) }&#10;                        )&#10;                    }&#10;                }&#10;&#10;                WorkoutHistory(&#10;                    logs = logs,&#10;                    onDeleteLogRequested = { log -&gt;&#10;                        selectedLog = null&#10;                        showDeleteAllDialog = false&#10;                        logToDelete = log&#10;                    },&#10;                    onDeleteAllRequested = {&#10;                        selectedLog = null&#10;                        logToDelete = null&#10;                        showDeleteAllDialog = true&#10;                    },&#10;                    onLogClick = { log -&gt;&#10;                        logToDelete = null&#10;                        showDeleteAllDialog = false&#10;                        selectedLog = log&#10;                    }&#10;                )&#10;            }&#10;        }&#10;&#10;        DashboardDialogs(&#10;            logToDelete = logToDelete,&#10;            onDismissDeleteLog = { logToDelete = null },&#10;            onDeleteLog = {&#10;                logToDelete?.let { onDeleteLog(it) }&#10;                logToDelete = null&#10;            },&#10;            showDeleteAllDialog = showDeleteAllDialog,&#10;            onDismissDeleteAll = { showDeleteAllDialog = false },&#10;            onDeleteAll = {&#10;                onDeleteAllLogs()&#10;                showDeleteAllDialog = false&#10;            },&#10;            selectedLog = selectedLog,&#10;            onDismissSelectedLog = { selectedLog = null }&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun DashboardDialogs(&#10;    logToDelete: WorkoutLog?,&#10;    onDismissDeleteLog: () -&gt; Unit,&#10;    onDeleteLog: () -&gt; Unit,&#10;    showDeleteAllDialog: Boolean,&#10;    onDismissDeleteAll: () -&gt; Unit,&#10;    onDeleteAll: () -&gt; Unit,&#10;    selectedLog: WorkoutLog?,&#10;    onDismissSelectedLog: () -&gt; Unit&#10;) {&#10;    if (logToDelete != null) {&#10;        AlertDialog(&#10;            onDismissRequest = onDismissDeleteLog,&#10;            icon = {&#10;                Icon(&#10;                    imageVector = Icons.Default.Delete,&#10;                    contentDescription = null,&#10;                    tint = MaterialTheme.colorScheme.error&#10;                )&#10;            },&#10;            title = {&#10;                Text(&#10;                    text = &quot;Hapus aktivitas&quot;,&#10;                    style = MaterialTheme.typography.titleMedium.copy(fontWeight = FontWeight.Bold)&#10;                )&#10;            },&#10;            text = {&#10;                Column(verticalArrangement = Arrangement.spacedBy(12.dp)) {&#10;                    Text(&#10;                        text = &quot;Aktivitas workout ini akan dihapus dari riwayat kamu.&quot;,&#10;                        style = MaterialTheme.typography.bodyMedium,&#10;                        color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                    )&#10;                    Text(&#10;                        text = &quot;${logToDelete.workout} · ${logToDelete.date} · ${logToDelete.time}&quot;,&#10;                        style = MaterialTheme.typography.bodySmall,&#10;                        color = MaterialTheme.colorScheme.primary&#10;                    )&#10;                }&#10;            },&#10;            shape = RoundedCornerShape(22.dp),&#10;            containerColor = MaterialTheme.colorScheme.surface,&#10;            confirmButton = {&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;                ) {&#10;                    OutlinedButton(&#10;                        onClick = onDismissDeleteLog,&#10;                        modifier = Modifier.weight(1f)&#10;                    ) {&#10;                        Text(text = &quot;Batal&quot;)&#10;                    }&#10;                    Button(&#10;                        onClick = onDeleteLog,&#10;                        modifier = Modifier.weight(1f),&#10;                        colors = ButtonDefaults.buttonColors(&#10;                            containerColor = MaterialTheme.colorScheme.error,&#10;                            contentColor = MaterialTheme.colorScheme.onError&#10;                        )&#10;                    ) {&#10;                        Text(text = &quot;Hapus&quot;)&#10;                    }&#10;                }&#10;            }&#10;        )&#10;    }&#10;&#10;    if (showDeleteAllDialog) {&#10;        AlertDialog(&#10;            onDismissRequest = onDismissDeleteAll,&#10;            icon = {&#10;                Icon(&#10;                    imageVector = Icons.Default.DeleteForever,&#10;                    contentDescription = null,&#10;                    tint = MaterialTheme.colorScheme.error&#10;                )&#10;            },&#10;            title = {&#10;                Text(&#10;                    text = &quot;Bersihkan riwayat&quot;,&#10;                    style = MaterialTheme.typography.titleMedium.copy(fontWeight = FontWeight.Bold)&#10;                )&#10;            },&#10;            text = {&#10;                Column(verticalArrangement = Arrangement.spacedBy(8.dp)) {&#10;                    Text(&#10;                        text = &quot;Semua riwayat workout akan dihapus permanen.&quot;,&#10;                        style = MaterialTheme.typography.bodyMedium,&#10;                        color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                    )&#10;                    Text(&#10;                        text = &quot;Tindakan ini tidak dapat dibatalkan.&quot;,&#10;                        style = MaterialTheme.typography.bodySmall,&#10;                        color = MaterialTheme.colorScheme.error&#10;                    )&#10;                }&#10;            },&#10;            shape = RoundedCornerShape(22.dp),&#10;            containerColor = MaterialTheme.colorScheme.surface,&#10;            confirmButton = {&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;                ) {&#10;                    OutlinedButton(&#10;                        onClick = onDismissDeleteAll,&#10;                        modifier = Modifier.weight(1f)&#10;                    ) {&#10;                        Text(text = &quot;Batal&quot;)&#10;                    }&#10;                    Button(&#10;                        onClick = onDeleteAll,&#10;                        modifier = Modifier.weight(1f),&#10;                        colors = ButtonDefaults.buttonColors(&#10;                            containerColor = MaterialTheme.colorScheme.error,&#10;                            contentColor = MaterialTheme.colorScheme.onError&#10;                        )&#10;                    ) {&#10;                        Text(text = &quot;Hapus semua&quot;)&#10;                    }&#10;                }&#10;            }&#10;        )&#10;    }&#10;&#10;    selectedLog?.let { log -&gt;&#10;        AlertDialog(&#10;            onDismissRequest = onDismissSelectedLog,&#10;            confirmButton = {&#10;                Button(&#10;                    onClick = onDismissSelectedLog,&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    colors = ButtonDefaults.buttonColors(&#10;                        containerColor = MaterialTheme.colorScheme.primary,&#10;                        contentColor = MaterialTheme.colorScheme.onPrimary&#10;                    )&#10;                ) {&#10;                    Text(text = &quot;Tutup&quot;)&#10;                }&#10;            },&#10;            shape = RoundedCornerShape(22.dp),&#10;            containerColor = MaterialTheme.colorScheme.surface,&#10;            icon = {&#10;                Icon(&#10;                    imageVector = Icons.Default.AccessibilityNew,&#10;                    contentDescription = null,&#10;                    tint = MaterialTheme.colorScheme.primary&#10;                )&#10;            },&#10;            title = {&#10;                Text(&#10;                    text = log.workout,&#10;                    style = MaterialTheme.typography.titleMedium.copy(fontWeight = FontWeight.Bold)&#10;                )&#10;            },&#10;            text = {&#10;                Column(verticalArrangement = Arrangement.spacedBy(12.dp)) {&#10;                    if (log.imageUri != null) {&#10;                        Card(&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .height(180.dp),&#10;                            shape = RoundedCornerShape(16.dp),&#10;                            colors = CardDefaults.cardColors(containerColor = MaterialTheme.colorScheme.surfaceVariant)&#10;                        ) {&#10;                            Image(&#10;                                painter = rememberAsyncImagePainter(log.imageUri),&#10;                                contentDescription = null,&#10;                                modifier = Modifier.fillMaxSize(),&#10;                                contentScale = ContentScale.Crop&#10;                            )&#10;                        }&#10;                    }&#10;&#10;                    Column(verticalArrangement = Arrangement.spacedBy(6.dp)) {&#10;                        Text(&#10;                            text = &quot;Tanggal&quot;,&#10;                            style = MaterialTheme.typography.labelMedium,&#10;                            color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                        )&#10;                        Text(&#10;                            text = &quot;${log.date} · ${log.time}&quot;,&#10;                            style = MaterialTheme.typography.bodyMedium,&#10;                            fontWeight = FontWeight.Medium&#10;                        )&#10;                    }&#10;&#10;                    Row(horizontalArrangement = Arrangement.spacedBy(10.dp)) {&#10;                        InfoPill(label = &quot;Durasi&quot;, value = &quot;${&quot;%.1f&quot;.format(log.durationMinutes)} menit&quot;)&#10;                        InfoPill(label = &quot;Kalori&quot;, value = &quot;${&quot;%.0f&quot;.format(log.calories)} kcal&quot;)&#10;                    }&#10;                }&#10;            }&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun InfoPill(label: String, value: String) {&#10;    Column(&#10;        modifier = Modifier&#10;            .background(&#10;                color = MaterialTheme.colorScheme.surfaceVariant,&#10;                shape = RoundedCornerShape(12.dp)&#10;            )&#10;            .padding(horizontal = 12.dp, vertical = 10.dp),&#10;        verticalArrangement = Arrangement.spacedBy(4.dp)&#10;    ) {&#10;        Text(&#10;            text = label,&#10;            style = MaterialTheme.typography.labelSmall,&#10;            color = MaterialTheme.colorScheme.onSurfaceVariant&#10;        )&#10;        Text(&#10;            text = value,&#10;            style = MaterialTheme.typography.bodyMedium,&#10;            fontWeight = FontWeight.Bold&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun GreetingCard() {&#10;    Card(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        colors = CardDefaults.cardColors(containerColor = MaterialTheme.colorScheme.surfaceVariant),&#10;        shape = RoundedCornerShape(20.dp),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 8.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(18.dp),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Column(verticalArrangement = Arrangement.spacedBy(6.dp)) {&#10;                Text(&#10;                    text = &quot;Halo, Atlet!&quot;,&#10;                    style = MaterialTheme.typography.titleMedium,&#10;                    fontWeight = FontWeight.Bold&#10;                )&#10;                Text(&#10;                    text = &quot;Tetap konsisten, targetmu sudah dekat.&quot;,&#10;                    style = MaterialTheme.typography.bodySmall,&#10;                    color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                )&#10;            }&#10;&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(64.dp)&#10;                    .background(MaterialTheme.colorScheme.background, CircleShape)&#10;                    .border(&#10;                        width = 2.dp,&#10;                        brush = Brush.linearGradient(&#10;                            listOf(&#10;                                MaterialTheme.colorScheme.primary,&#10;                                MaterialTheme.colorScheme.secondary&#10;                            )&#10;                        ),&#10;                        shape = CircleShape&#10;                    ),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Icon(&#10;                    imageVector = Icons.Default.Bolt,&#10;                    contentDescription = null,&#10;                    tint = MaterialTheme.colorScheme.primary&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun StatsCard(stats: DailyStats, progress: List&lt;DailyProgress&gt;) {&#10;    val caloriesColor = Color(0xFFFF9270)&#10;    val durationColor = Color(0xFF74B4FF)&#10;&#10;    Card(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        colors = CardDefaults.cardColors(&#10;            containerColor = MaterialTheme.colorScheme.surfaceVariant,&#10;            contentColor = MaterialTheme.colorScheme.onSurfaceVariant&#10;        ),&#10;        shape = RoundedCornerShape(20.dp),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 10.dp)&#10;    ) {&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(18.dp),&#10;            verticalArrangement = Arrangement.spacedBy(16.dp)&#10;        ) {&#10;            Column(verticalArrangement = Arrangement.spacedBy(4.dp)) {&#10;                Text(&#10;                    text = &quot;Progress Hari Ini&quot;,&#10;                    style = MaterialTheme.typography.titleMedium,&#10;                    fontWeight = FontWeight.Bold&#10;                )&#10;                Text(&#10;                    text = &quot;Pantau akumulasi 7 hari terakhir untuk kalori &amp; durasi&quot;,&#10;                    style = MaterialTheme.typography.bodySmall,&#10;                    color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                )&#10;            }&#10;&#10;            DailyProgressChart(&#10;                dailyProgress = progress,&#10;                caloriesColor = caloriesColor,&#10;                durationColor = durationColor&#10;            )&#10;&#10;            Row(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                horizontalArrangement = Arrangement.spacedBy(12.dp)&#10;            ) {&#10;                HighlightStat(&#10;                    title = &quot;Kalori hari ini&quot;,&#10;                    value = &quot;${stats.totalCalories.toInt()} kcal&quot;,&#10;                    icon = Icons.Default.LocalFireDepartment,&#10;                    accent = caloriesColor,&#10;                    modifier = Modifier.weight(1f)&#10;                )&#10;                HighlightStat(&#10;                    title = &quot;Durasi hari ini&quot;,&#10;                    value = formatMinutes(stats.totalDurationMinutes),&#10;                    icon = Icons.Default.AccessTime,&#10;                    accent = durationColor,&#10;                    modifier = Modifier.weight(1f)&#10;                )&#10;            }&#10;&#10;            StatChip(&#10;                title = &quot;Streak&quot;,&#10;                value = &quot;${stats.streak} hari&quot;,&#10;                icon = Icons.Default.Whatshot,&#10;                iconColor = Color(0xFFcccccc)&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun DailyProgressChart(&#10;    dailyProgress: List&lt;DailyProgress&gt;,&#10;    caloriesColor: Color,&#10;    durationColor: Color,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    val maxValue = dailyProgress&#10;        .flatMap { listOf(it.totalCalories, it.totalDurationMinutes) }&#10;        .maxOrNull()&#10;        ?.takeIf { it &gt; 0 }&#10;        ?: 1.0&#10;    val barAreaHeight = 140.dp&#10;&#10;    Column(&#10;        modifier = modifier&#10;            .fillMaxWidth()&#10;            .background(&#10;                color = MaterialTheme.colorScheme.background,&#10;                shape = RoundedCornerShape(14.dp)&#10;            )&#10;            .padding(14.dp),&#10;        verticalArrangement = Arrangement.spacedBy(12.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.spacedBy(12.dp)&#10;        ) {&#10;            LegendItem(color = caloriesColor, label = &quot;Kalori&quot;)&#10;            LegendItem(color = durationColor, label = &quot;Durasi (mnt)&quot;)&#10;        }&#10;&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .height(barAreaHeight),&#10;            horizontalArrangement = Arrangement.spacedBy(12.dp),&#10;            verticalAlignment = Alignment.Bottom&#10;        ) {&#10;            dailyProgress.forEach { entry -&gt;&#10;                val caloriesHeight = ((entry.totalCalories / maxValue) * barAreaHeight.value).toFloat().dp&#10;                val durationHeight = ((entry.totalDurationMinutes / maxValue) * barAreaHeight.value).toFloat().dp&#10;&#10;                Column(&#10;                    modifier = Modifier.weight(1f),&#10;                    horizontalAlignment = Alignment.CenterHorizontally,&#10;                    verticalArrangement = Arrangement.Bottom&#10;                ) {&#10;                    Row(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .height(barAreaHeight - 12.dp),&#10;                        horizontalArrangement = Arrangement.spacedBy(8.dp),&#10;                        verticalAlignment = Alignment.Bottom&#10;                    ) {&#10;                        Bar(valueHeight = caloriesHeight, color = caloriesColor)&#10;                        Bar(valueHeight = durationHeight, color = durationColor)&#10;                    }&#10;                    Spacer(modifier = Modifier.height(8.dp))&#10;                    Text(&#10;                        text = entry.dateLabel,&#10;                        style = MaterialTheme.typography.labelSmall,&#10;                        color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun Bar(valueHeight: Dp, color: Color) {&#10;    Box(&#10;        modifier = Modifier&#10;            .width(16.dp)&#10;            .height(valueHeight.coerceAtLeast(6.dp))&#10;            .background(color, RoundedCornerShape(topStart = 10.dp, topEnd = 10.dp))&#10;    )&#10;}&#10;&#10;@Composable&#10;private fun LegendItem(color: Color, label: String) {&#10;    Row(&#10;        verticalAlignment = Alignment.CenterVertically,&#10;        horizontalArrangement = Arrangement.spacedBy(6.dp)&#10;    ) {&#10;        Box(&#10;            modifier = Modifier&#10;                .size(14.dp)&#10;                .background(color, RoundedCornerShape(4.dp))&#10;        )&#10;        Text(&#10;            text = label,&#10;            style = MaterialTheme.typography.labelSmall,&#10;            color = MaterialTheme.colorScheme.onSurfaceVariant&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun HighlightStat(&#10;    title: String,&#10;    value: String,&#10;    icon: androidx.compose.ui.graphics.vector.ImageVector,&#10;    accent: Color,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Card(&#10;        modifier = modifier,&#10;        shape = RoundedCornerShape(16.dp),&#10;        colors = CardDefaults.cardColors(containerColor = MaterialTheme.colorScheme.background),&#10;        border = BorderStroke(1.dp, accent.copy(alpha = 0.35f)),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 2.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .padding(vertical = 12.dp, horizontal = 14.dp),&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(34.dp)&#10;                    .background(accent.copy(alpha = 0.14f), CircleShape),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Icon(&#10;                    imageVector = icon,&#10;                    contentDescription = null,&#10;                    tint = accent&#10;                )&#10;            }&#10;            Column(verticalArrangement = Arrangement.spacedBy(2.dp)) {&#10;                Text(&#10;                    text = title,&#10;                    style = MaterialTheme.typography.bodySmall,&#10;                    color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                )&#10;                Text(&#10;                    text = value,&#10;                    style = MaterialTheme.typography.titleMedium,&#10;                    fontWeight = FontWeight.Bold&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun StatChip(&#10;    title: String,&#10;    value: String,&#10;    icon: androidx.compose.ui.graphics.vector.ImageVector,&#10;    iconColor: Color,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Card(&#10;        modifier = modifier,&#10;        shape = RoundedCornerShape(16.dp),&#10;        colors = CardDefaults.cardColors(containerColor = MaterialTheme.colorScheme.background),&#10;        border = BorderStroke(&#10;            width = 1.dp,&#10;            brush = Brush.linearGradient(&#10;                listOf(&#10;                    MaterialTheme.colorScheme.primary.copy(alpha = 0.6f),&#10;                    MaterialTheme.colorScheme.secondary.copy(alpha = 0.6f)&#10;                )&#10;            )&#10;        ),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 4.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier.padding(vertical = 12.dp, horizontal = 14.dp),&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Icon(&#10;                imageVector = icon,&#10;                contentDescription = null,&#10;                tint = iconColor,&#10;                modifier = Modifier.size(28.dp)&#10;            )&#10;            Column(&#10;                verticalArrangement = Arrangement.spacedBy(2.dp)&#10;            ) {&#10;                Text(&#10;                    text = title,&#10;                    style = MaterialTheme.typography.bodySmall,&#10;                    color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                )&#10;                Text(&#10;                    text = value,&#10;                    style = MaterialTheme.typography.titleMedium,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = MaterialTheme.colorScheme.onBackground&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun WorkoutOptionCard(&#10;    workout: Workout,&#10;    onClick: () -&gt; Unit&#10;) {&#10;    Card(&#10;        onClick = onClick,&#10;        colors = CardDefaults.cardColors(&#10;            containerColor = MaterialTheme.colorScheme.surfaceVariant,&#10;            contentColor = MaterialTheme.colorScheme.onSurfaceVariant&#10;        ),&#10;        modifier = Modifier.fillMaxWidth(),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 6.dp),&#10;        shape = RoundedCornerShape(16.dp)&#10;    ) {&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(horizontal = 8.dp, vertical = 12.dp),&#10;            horizontalAlignment = Alignment.CenterHorizontally,&#10;            verticalArrangement = Arrangement.Center&#10;        ) {&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(44.dp)&#10;                    .background(&#10;                        color = MaterialTheme.colorScheme.background,&#10;                        shape = CircleShape&#10;                    )&#10;                    .border(&#10;                        width = 1.5.dp,&#10;                        brush = Brush.linearGradient(&#10;                            colors = listOf(&#10;                                MaterialTheme.colorScheme.primary,&#10;                                MaterialTheme.colorScheme.secondary&#10;                            )&#10;                        ),&#10;                        shape = CircleShape&#10;                    ),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Icon(&#10;                    imageVector = workout.name.getWorkoutIcon(),&#10;                    contentDescription = null,&#10;                    tint = MaterialTheme.colorScheme.primary,&#10;                    modifier = Modifier.size(24.dp)&#10;                )&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(6.dp))&#10;            &#10;            Text(&#10;                text = workout.name,&#10;                style = MaterialTheme.typography.labelLarge,&#10;                fontWeight = FontWeight.Bold&#10;            )&#10;            Text(&#10;                text = &quot;MET ${workout.met}&quot;,&#10;                style = MaterialTheme.typography.labelSmall,&#10;                color = MaterialTheme.colorScheme.onSurfaceVariant&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun WorkoutHistory(&#10;    logs: List&lt;WorkoutLog&gt;,&#10;    onDeleteLogRequested: (WorkoutLog) -&gt; Unit,&#10;    onDeleteAllRequested: () -&gt; Unit,&#10;    onLogClick: (WorkoutLog) -&gt; Unit = {}&#10;) {&#10;    Column(verticalArrangement = Arrangement.spacedBy(12.dp)) {&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Text(&#10;                text = &quot;Workout Terbaru&quot;,&#10;                style = MaterialTheme.typography.titleMedium.copy(fontWeight = FontWeight.Bold),&#10;                color = MaterialTheme.colorScheme.onBackground&#10;            )&#10;&#10;            if (logs.isNotEmpty()) {&#10;                IconButton(onClick = onDeleteAllRequested) {&#10;                    Icon(&#10;                        imageVector = Icons.Default.DeleteForever,&#10;                        contentDescription = &quot;Hapus semua aktivitas&quot;,&#10;                        tint = MaterialTheme.colorScheme.error&#10;                    )&#10;                }&#10;            }&#10;        }&#10;&#10;        if (logs.isEmpty()) {&#10;            Text(&#10;                text = &quot;Belum ada aktivitas hari ini&quot;,&#10;                style = MaterialTheme.typography.bodyMedium,&#10;                color = MaterialTheme.colorScheme.onSurfaceVariant&#10;            )&#10;        } else {&#10;            val sortedLogs = logs.sortedByDescending { it.timestamp }&#10;            Column(verticalArrangement = Arrangement.spacedBy(10.dp)) {&#10;                sortedLogs.forEach { log -&gt;&#10;                    Card(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .clickable { onLogClick(log) },&#10;                        colors = CardDefaults.cardColors(containerColor = MaterialTheme.colorScheme.surfaceVariant),&#10;                        shape = RoundedCornerShape(16.dp),&#10;                        elevation = CardDefaults.cardElevation(defaultElevation = 8.dp)&#10;                    ) {&#10;                        Row(&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .padding(14.dp),&#10;                            horizontalArrangement = Arrangement.spacedBy(12.dp),&#10;                            verticalAlignment = Alignment.CenterVertically&#10;                        ) {&#10;                            // Icon / image workout&#10;                            if (log.imageUri != null) {&#10;                                Box(&#10;                                    modifier = Modifier&#10;                                        .size(56.dp)&#10;                                        .background(&#10;                                            color = MaterialTheme.colorScheme.background,&#10;                                            shape = RoundedCornerShape(12.dp)&#10;                                        )&#10;                                        .border(&#10;                                            width = 1.5.dp,&#10;                                            brush = Brush.linearGradient(&#10;                                                colors = listOf(&#10;                                                    MaterialTheme.colorScheme.primary,&#10;                                                    MaterialTheme.colorScheme.secondary&#10;                                                )&#10;                                            ),&#10;                                            shape = RoundedCornerShape(12.dp)&#10;                                        ),&#10;                                    contentAlignment = Alignment.Center&#10;                                ) {&#10;                                    Image(&#10;                                        painter = rememberAsyncImagePainter(log.imageUri),&#10;                                        contentDescription = null,&#10;                                        modifier = Modifier.fillMaxSize(),&#10;                                        contentScale = ContentScale.Fit&#10;                                    )&#10;                                }&#10;                            } else {&#10;                                Box(&#10;                                    modifier = Modifier&#10;                                        .size(48.dp)&#10;                                        .background(&#10;                                            color = MaterialTheme.colorScheme.background,&#10;                                            shape = CircleShape&#10;                                        )&#10;                                        .border(&#10;                                            width = 1.5.dp,&#10;                                            brush = Brush.linearGradient(&#10;                                                colors = listOf(&#10;                                                    MaterialTheme.colorScheme.primary,&#10;                                                    MaterialTheme.colorScheme.secondary&#10;                                                )&#10;                                            ),&#10;                                            shape = CircleShape&#10;                                        ),&#10;                                    contentAlignment = Alignment.Center&#10;                                ) {&#10;                                    Icon(&#10;                                        imageVector = log.workout.getWorkoutIcon(),&#10;                                        contentDescription = null,&#10;                                        tint = MaterialTheme.colorScheme.primary,&#10;                                        modifier = Modifier.size(24.dp)&#10;                                    )&#10;                                }&#10;                            }&#10;&#10;                            // Info workout&#10;                            Column(&#10;                                modifier = Modifier.weight(1f),&#10;                                verticalArrangement = Arrangement.spacedBy(6.dp)&#10;                            ) {&#10;                                Text(&#10;                                    text = log.workout,&#10;                                    style = MaterialTheme.typography.titleSmall,&#10;                                    fontWeight = FontWeight.Bold&#10;                                )&#10;&#10;                                // Durasi dengan icon jam&#10;                                Row(&#10;                                    horizontalArrangement = Arrangement.spacedBy(6.dp),&#10;                                    verticalAlignment = Alignment.CenterVertically&#10;                                ) {&#10;                                    Icon(&#10;                                        imageVector = Icons.Default.AccessTime,&#10;                                        contentDescription = null,&#10;                                        tint = MaterialTheme.colorScheme.onSurfaceVariant,&#10;                                        modifier = Modifier.size(16.dp)&#10;                                    )&#10;                                    Text(&#10;                                        text = &quot;${formatMinutes(log.durationMinutes)} · ${log.calories.toInt()} kcal&quot;,&#10;                                        style = MaterialTheme.typography.bodyMedium,&#10;                                        color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                                    )&#10;                                }&#10;&#10;                                // Tanggal dan waktu dengan icon kalender&#10;                                Row(&#10;                                    horizontalArrangement = Arrangement.spacedBy(6.dp),&#10;                                    verticalAlignment = Alignment.CenterVertically&#10;                                ) {&#10;                                    Icon(&#10;                                        imageVector = Icons.Default.CalendarToday,&#10;                                        contentDescription = null,&#10;                                        tint = MaterialTheme.colorScheme.onSurfaceVariant,&#10;                                        modifier = Modifier.size(16.dp)&#10;                                    )&#10;                                    Text(&#10;                                        text = &quot;${log.date} · ${log.time}&quot;,&#10;                                        style = MaterialTheme.typography.bodySmall,&#10;                                        color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                                    )&#10;                                }&#10;                            }&#10;&#10;                            IconButton(onClick = { onDeleteLogRequested(log) }) {&#10;                                Icon(&#10;                                    imageVector = Icons.Default.Delete,&#10;                                    contentDescription = &quot;Hapus aktivitas&quot;,&#10;                                    tint = MaterialTheme.colorScheme.onSurfaceVariant&#10;                                )&#10;                            }&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;private fun formatMinutes(minutes: Double): String {&#10;    return &quot;${&quot;%.1f&quot;.format(minutes)} menit&quot;&#10;}&#10;&#10;private fun String.getWorkoutIcon() = when (lowercase()) {&#10;    &quot;yoga&quot; -&gt; Icons.Default.SelfImprovement&#10;    &quot;running&quot; -&gt; Icons.Default.DirectionsRun&#10;    &quot;stretching&quot; -&gt; Icons.Default.AccessibilityNew&#10;    &quot;hiit&quot; -&gt; Icons.Default.Bolt&#10;    &quot;cycling&quot; -&gt; Icons.Default.DirectionsBike&#10;    &quot;walking&quot; -&gt; Icons.Default.DirectionsWalk&#10;    else -&gt; Icons.Default.FitnessCenter&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.pamproject.ui.screen&#10;&#10;import androidx.compose.foundation.BorderStroke&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.border&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Box&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.Row&#10;import androidx.compose.foundation.layout.Spacer&#10;import androidx.compose.foundation.layout.fillMaxSize&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.height&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.foundation.layout.size&#10;import androidx.compose.foundation.lazy.grid.GridCells&#10;import androidx.compose.foundation.lazy.grid.LazyVerticalGrid&#10;import androidx.compose.foundation.lazy.grid.items&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.width&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.AccessTime&#10;import androidx.compose.material.icons.filled.AccessibilityNew&#10;import androidx.compose.material.icons.filled.Bolt&#10;import androidx.compose.material.icons.filled.CalendarToday&#10;import androidx.compose.material.icons.filled.Delete&#10;import androidx.compose.material.icons.filled.DeleteForever&#10;import androidx.compose.material.icons.filled.DirectionsBike&#10;import androidx.compose.material.icons.filled.DirectionsRun&#10;import androidx.compose.material.icons.filled.DirectionsWalk&#10;import androidx.compose.material.icons.filled.FitnessCenter&#10;import androidx.compose.material.icons.filled.LocalFireDepartment&#10;import androidx.compose.material.icons.filled.SelfImprovement&#10;import androidx.compose.material.icons.filled.Whatshot&#10;import androidx.compose.material3.AlertDialog&#10;import androidx.compose.material3.Button&#10;import androidx.compose.material3.ButtonDefaults&#10;import androidx.compose.material3.Card&#10;import androidx.compose.material3.CardDefaults&#10;import androidx.compose.material3.ExperimentalMaterial3Api&#10;import androidx.compose.material3.Icon&#10;import androidx.compose.material3.IconButton&#10;import androidx.compose.material3.MaterialTheme&#10;import androidx.compose.material3.OutlinedButton&#10;import androidx.compose.material3.Scaffold&#10;import androidx.compose.material3.Text&#10;import androidx.compose.material3.TopAppBar&#10;import androidx.compose.material3.TopAppBarDefaults&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.mutableStateOf&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.runtime.setValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Brush&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.Dp&#10;import androidx.compose.ui.unit.dp&#10;import coil.compose.rememberAsyncImagePainter&#10;import com.example.pamproject.model.DailyProgress&#10;import com.example.pamproject.model.DailyStats&#10;import com.example.pamproject.model.Workout&#10;import com.example.pamproject.model.WorkoutLog&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun DashboardScreen(&#10;    stats: DailyStats,&#10;    progress: List&lt;DailyProgress&gt;,&#10;    workouts: List&lt;Workout&gt;,&#10;    logs: List&lt;WorkoutLog&gt;,&#10;    onWorkoutClick: (Int) -&gt; Unit,&#10;    onDeleteLog: (WorkoutLog) -&gt; Unit,&#10;    onDeleteAllLogs: () -&gt; Unit,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    var logToDelete by remember { mutableStateOf&lt;WorkoutLog?&gt;(null) }&#10;    var showDeleteAllDialog by remember { mutableStateOf(false) }&#10;    var selectedLog by remember { mutableStateOf&lt;WorkoutLog?&gt;(null) }&#10;&#10;    Box(modifier = modifier.fillMaxSize()) {&#10;        Scaffold(&#10;            topBar = {&#10;                TopAppBar(&#10;                    title = {&#10;                        Column {&#10;                            Text(&#10;                                text = &quot;Workit&quot;,&#10;                                style = MaterialTheme.typography.titleLarge,&#10;                                fontWeight = FontWeight.Bold,&#10;                                color = Color.White&#10;                            )&#10;                            Text(&#10;                                text = &quot;Stay consistent, stay strong&quot;,&#10;                                style = MaterialTheme.typography.bodySmall,&#10;                                color = Color.White.copy(alpha = 0.8f)&#10;                            )&#10;                        }&#10;                    },&#10;                    colors = TopAppBarDefaults.topAppBarColors(&#10;                        containerColor = MaterialTheme.colorScheme.background,&#10;                        titleContentColor = Color.White&#10;                    )&#10;                )&#10;            }&#10;        ) { innerPadding -&gt;&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .padding(innerPadding)&#10;                    .background(MaterialTheme.colorScheme.background)&#10;                    .verticalScroll(rememberScrollState())&#10;                    .padding(20.dp),&#10;                verticalArrangement = Arrangement.spacedBy(18.dp)&#10;            ) {&#10;                GreetingCard()&#10;&#10;                StatsCard(&#10;                    stats = stats,&#10;                    progress = progress&#10;                )&#10;&#10;                Text(&#10;                    text = &quot;Pilih Workout&quot;,&#10;                    style = MaterialTheme.typography.titleMedium.copy(fontWeight = FontWeight.Bold),&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = MaterialTheme.colorScheme.onBackground&#10;                )&#10;&#10;                LazyVerticalGrid(&#10;                    columns = GridCells.Fixed(3),&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .height(((workouts.size / 3 + if (workouts.size % 3 != 0) 1 else 0) * 140).dp),&#10;                    verticalArrangement = Arrangement.spacedBy(10.dp),&#10;                    horizontalArrangement = Arrangement.spacedBy(10.dp),&#10;                    userScrollEnabled = false&#10;                ) {&#10;                    items(workouts, key = { it.id }) { workout -&gt;&#10;                        WorkoutOptionCard(&#10;                            workout = workout,&#10;                            onClick = { onWorkoutClick(workout.id) }&#10;                        )&#10;                    }&#10;                }&#10;&#10;                WorkoutHistory(&#10;                    logs = logs,&#10;                    onDeleteLogRequested = { log -&gt;&#10;                        selectedLog = null&#10;                        showDeleteAllDialog = false&#10;                        logToDelete = log&#10;                    },&#10;                    onDeleteAllRequested = {&#10;                        selectedLog = null&#10;                        logToDelete = null&#10;                        showDeleteAllDialog = true&#10;                    },&#10;                    onLogClick = { log -&gt;&#10;                        logToDelete = null&#10;                        showDeleteAllDialog = false&#10;                        selectedLog = log&#10;                    }&#10;                )&#10;            }&#10;        }&#10;&#10;        DashboardDialogs(&#10;            logToDelete = logToDelete,&#10;            onDismissDeleteLog = { logToDelete = null },&#10;            onDeleteLog = {&#10;                logToDelete?.let { onDeleteLog(it) }&#10;                logToDelete = null&#10;            },&#10;            showDeleteAllDialog = showDeleteAllDialog,&#10;            onDismissDeleteAll = { showDeleteAllDialog = false },&#10;            onDeleteAll = {&#10;                onDeleteAllLogs()&#10;                showDeleteAllDialog = false&#10;            },&#10;            selectedLog = selectedLog,&#10;            onDismissSelectedLog = { selectedLog = null }&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun DashboardDialogs(&#10;    logToDelete: WorkoutLog?,&#10;    onDismissDeleteLog: () -&gt; Unit,&#10;    onDeleteLog: () -&gt; Unit,&#10;    showDeleteAllDialog: Boolean,&#10;    onDismissDeleteAll: () -&gt; Unit,&#10;    onDeleteAll: () -&gt; Unit,&#10;    selectedLog: WorkoutLog?,&#10;    onDismissSelectedLog: () -&gt; Unit&#10;) {&#10;    if (logToDelete != null) {&#10;        AlertDialog(&#10;            onDismissRequest = onDismissDeleteLog,&#10;            icon = {&#10;                Icon(&#10;                    imageVector = Icons.Default.Delete,&#10;                    contentDescription = null,&#10;                    tint = MaterialTheme.colorScheme.error&#10;                )&#10;            },&#10;            title = {&#10;                Text(&#10;                    text = &quot;Hapus aktivitas&quot;,&#10;                    style = MaterialTheme.typography.titleMedium.copy(fontWeight = FontWeight.Bold)&#10;                )&#10;            },&#10;            text = {&#10;                Column(verticalArrangement = Arrangement.spacedBy(12.dp)) {&#10;                    Text(&#10;                        text = &quot;Aktivitas workout ini akan dihapus dari riwayat kamu.&quot;,&#10;                        style = MaterialTheme.typography.bodyMedium,&#10;                        color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                    )&#10;                    Text(&#10;                        text = &quot;${logToDelete.workout} · ${logToDelete.date} · ${logToDelete.time}&quot;,&#10;                        style = MaterialTheme.typography.bodySmall,&#10;                        color = MaterialTheme.colorScheme.primary&#10;                    )&#10;                }&#10;            },&#10;            shape = RoundedCornerShape(22.dp),&#10;            containerColor = MaterialTheme.colorScheme.surface,&#10;            confirmButton = {&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;                ) {&#10;                    OutlinedButton(&#10;                        onClick = onDismissDeleteLog,&#10;                        modifier = Modifier.weight(1f)&#10;                    ) {&#10;                        Text(text = &quot;Batal&quot;)&#10;                    }&#10;                    Button(&#10;                        onClick = onDeleteLog,&#10;                        modifier = Modifier.weight(1f),&#10;                        colors = ButtonDefaults.buttonColors(&#10;                            containerColor = MaterialTheme.colorScheme.error,&#10;                            contentColor = MaterialTheme.colorScheme.onError&#10;                        )&#10;                    ) {&#10;                        Text(text = &quot;Hapus&quot;)&#10;                    }&#10;                }&#10;            }&#10;        )&#10;    }&#10;&#10;    if (showDeleteAllDialog) {&#10;        AlertDialog(&#10;            onDismissRequest = onDismissDeleteAll,&#10;            icon = {&#10;                Icon(&#10;                    imageVector = Icons.Default.DeleteForever,&#10;                    contentDescription = null,&#10;                    tint = MaterialTheme.colorScheme.error&#10;                )&#10;            },&#10;            title = {&#10;                Text(&#10;                    text = &quot;Bersihkan riwayat&quot;,&#10;                    style = MaterialTheme.typography.titleMedium.copy(fontWeight = FontWeight.Bold)&#10;                )&#10;            },&#10;            text = {&#10;                Column(verticalArrangement = Arrangement.spacedBy(8.dp)) {&#10;                    Text(&#10;                        text = &quot;Semua riwayat workout akan dihapus permanen.&quot;,&#10;                        style = MaterialTheme.typography.bodyMedium,&#10;                        color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                    )&#10;                    Text(&#10;                        text = &quot;Tindakan ini tidak dapat dibatalkan.&quot;,&#10;                        style = MaterialTheme.typography.bodySmall,&#10;                        color = MaterialTheme.colorScheme.error&#10;                    )&#10;                }&#10;            },&#10;            shape = RoundedCornerShape(22.dp),&#10;            containerColor = MaterialTheme.colorScheme.surface,&#10;            confirmButton = {&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;                ) {&#10;                    OutlinedButton(&#10;                        onClick = onDismissDeleteAll,&#10;                        modifier = Modifier.weight(1f)&#10;                    ) {&#10;                        Text(text = &quot;Batal&quot;)&#10;                    }&#10;                    Button(&#10;                        onClick = onDeleteAll,&#10;                        modifier = Modifier.weight(1f),&#10;                        colors = ButtonDefaults.buttonColors(&#10;                            containerColor = MaterialTheme.colorScheme.error,&#10;                            contentColor = MaterialTheme.colorScheme.onError&#10;                        )&#10;                    ) {&#10;                        Text(text = &quot;Hapus semua&quot;)&#10;                    }&#10;                }&#10;            }&#10;        )&#10;    }&#10;&#10;    selectedLog?.let { log -&gt;&#10;        AlertDialog(&#10;            onDismissRequest = onDismissSelectedLog,&#10;            confirmButton = {&#10;                Button(&#10;                    onClick = onDismissSelectedLog,&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    colors = ButtonDefaults.buttonColors(&#10;                        containerColor = MaterialTheme.colorScheme.primary,&#10;                        contentColor = MaterialTheme.colorScheme.onPrimary&#10;                    )&#10;                ) {&#10;                    Text(text = &quot;Tutup&quot;)&#10;                }&#10;            },&#10;            shape = RoundedCornerShape(22.dp),&#10;            containerColor = MaterialTheme.colorScheme.surface,&#10;            icon = {&#10;                Icon(&#10;                    imageVector = Icons.Default.AccessibilityNew,&#10;                    contentDescription = null,&#10;                    tint = MaterialTheme.colorScheme.primary&#10;                )&#10;            },&#10;            title = {&#10;                Text(&#10;                    text = log.workout,&#10;                    style = MaterialTheme.typography.titleMedium.copy(fontWeight = FontWeight.Bold)&#10;                )&#10;            },&#10;            text = {&#10;                Column(verticalArrangement = Arrangement.spacedBy(12.dp)) {&#10;                    if (log.imageUri != null) {&#10;                        Card(&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .height(180.dp),&#10;                            shape = RoundedCornerShape(16.dp),&#10;                            colors = CardDefaults.cardColors(containerColor = MaterialTheme.colorScheme.surfaceVariant)&#10;                        ) {&#10;                            Image(&#10;                                painter = rememberAsyncImagePainter(log.imageUri),&#10;                                contentDescription = null,&#10;                                modifier = Modifier.fillMaxSize(),&#10;                                contentScale = ContentScale.Crop&#10;                            )&#10;                        }&#10;                    }&#10;&#10;                    Column(verticalArrangement = Arrangement.spacedBy(6.dp)) {&#10;                        Text(&#10;                            text = &quot;Tanggal&quot;,&#10;                            style = MaterialTheme.typography.labelMedium,&#10;                            color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                        )&#10;                        Text(&#10;                            text = &quot;${log.date} · ${log.time}&quot;,&#10;                            style = MaterialTheme.typography.bodyMedium,&#10;                            fontWeight = FontWeight.Medium&#10;                        )&#10;                    }&#10;&#10;                    Row(horizontalArrangement = Arrangement.spacedBy(10.dp)) {&#10;                        InfoPill(label = &quot;Durasi&quot;, value = &quot;${&quot;%.1f&quot;.format(log.durationMinutes)} menit&quot;)&#10;                        InfoPill(label = &quot;Kalori&quot;, value = &quot;${&quot;%.0f&quot;.format(log.calories)} kcal&quot;)&#10;                    }&#10;                }&#10;            }&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun InfoPill(label: String, value: String) {&#10;    Column(&#10;        modifier = Modifier&#10;            .background(&#10;                color = MaterialTheme.colorScheme.surfaceVariant,&#10;                shape = RoundedCornerShape(12.dp)&#10;            )&#10;            .padding(horizontal = 12.dp, vertical = 10.dp),&#10;        verticalArrangement = Arrangement.spacedBy(4.dp)&#10;    ) {&#10;        Text(&#10;            text = label,&#10;            style = MaterialTheme.typography.labelSmall,&#10;            color = MaterialTheme.colorScheme.onSurfaceVariant&#10;        )&#10;        Text(&#10;            text = value,&#10;            style = MaterialTheme.typography.bodyMedium,&#10;            fontWeight = FontWeight.Bold&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun GreetingCard() {&#10;    Card(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        colors = CardDefaults.cardColors(containerColor = MaterialTheme.colorScheme.surfaceVariant),&#10;        shape = RoundedCornerShape(20.dp),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 8.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(18.dp),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Column(verticalArrangement = Arrangement.spacedBy(6.dp)) {&#10;                Text(&#10;                    text = &quot;Halo, Atlet!&quot;,&#10;                    style = MaterialTheme.typography.titleMedium,&#10;                    fontWeight = FontWeight.Bold&#10;                )&#10;                Text(&#10;                    text = &quot;Tetap konsisten, targetmu sudah dekat.&quot;,&#10;                    style = MaterialTheme.typography.bodySmall,&#10;                    color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                )&#10;            }&#10;&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(64.dp)&#10;                    .background(MaterialTheme.colorScheme.background, CircleShape)&#10;                    .border(&#10;                        width = 2.dp,&#10;                        brush = Brush.linearGradient(&#10;                            listOf(&#10;                                MaterialTheme.colorScheme.primary,&#10;                                MaterialTheme.colorScheme.secondary&#10;                            )&#10;                        ),&#10;                        shape = CircleShape&#10;                    ),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Icon(&#10;                    imageVector = Icons.Default.Bolt,&#10;                    contentDescription = null,&#10;                    tint = MaterialTheme.colorScheme.primary&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun StatsCard(stats: DailyStats, progress: List&lt;DailyProgress&gt;) {&#10;    val caloriesColor = Color(0xFFFF9270)&#10;    val durationColor = Color(0xFF74B4FF)&#10;&#10;    Card(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        colors = CardDefaults.cardColors(&#10;            containerColor = MaterialTheme.colorScheme.surfaceVariant,&#10;            contentColor = MaterialTheme.colorScheme.onSurfaceVariant&#10;        ),&#10;        shape = RoundedCornerShape(20.dp),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 10.dp)&#10;    ) {&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(18.dp),&#10;            verticalArrangement = Arrangement.spacedBy(16.dp)&#10;        ) {&#10;            Column(verticalArrangement = Arrangement.spacedBy(4.dp)) {&#10;                Text(&#10;                    text = &quot;Progress Hari Ini&quot;,&#10;                    style = MaterialTheme.typography.titleMedium,&#10;                    fontWeight = FontWeight.Bold&#10;                )&#10;                Text(&#10;                    text = &quot;Pantau akumulasi 7 hari terakhir untuk kalori &amp; durasi&quot;,&#10;                    style = MaterialTheme.typography.bodySmall,&#10;                    color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                )&#10;            }&#10;&#10;            DailyProgressChart(&#10;                dailyProgress = progress,&#10;                caloriesColor = caloriesColor,&#10;                durationColor = durationColor&#10;            )&#10;&#10;            Row(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                horizontalArrangement = Arrangement.spacedBy(12.dp)&#10;            ) {&#10;                HighlightStat(&#10;                    title = &quot;Kalori hari ini&quot;,&#10;                    value = &quot;${stats.totalCalories.toInt()} kcal&quot;,&#10;                    icon = Icons.Default.LocalFireDepartment,&#10;                    accent = caloriesColor,&#10;                    modifier = Modifier.weight(1f)&#10;                )&#10;                HighlightStat(&#10;                    title = &quot;Durasi hari ini&quot;,&#10;                    value = formatMinutes(stats.totalDurationMinutes),&#10;                    icon = Icons.Default.AccessTime,&#10;                    accent = durationColor,&#10;                    modifier = Modifier.weight(1f)&#10;                )&#10;            }&#10;&#10;            StatChip(&#10;                title = &quot;Streak&quot;,&#10;                value = &quot;${stats.streak} hari&quot;,&#10;                icon = Icons.Default.Whatshot,&#10;                iconColor = Color(0xFFcccccc)&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun DailyProgressChart(&#10;    dailyProgress: List&lt;DailyProgress&gt;,&#10;    caloriesColor: Color,&#10;    durationColor: Color,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    val maxValue = dailyProgress&#10;        .flatMap { listOf(it.totalCalories, it.totalDurationMinutes) }&#10;        .maxOrNull()&#10;        ?.takeIf { it &gt; 0 }&#10;        ?: 1.0&#10;    val barAreaHeight = 140.dp&#10;&#10;    Column(&#10;        modifier = modifier&#10;            .fillMaxWidth()&#10;            .background(&#10;                color = MaterialTheme.colorScheme.background,&#10;                shape = RoundedCornerShape(14.dp)&#10;            )&#10;            .padding(14.dp),&#10;        verticalArrangement = Arrangement.spacedBy(12.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.spacedBy(12.dp)&#10;        ) {&#10;            LegendItem(color = caloriesColor, label = &quot;Kalori&quot;)&#10;            LegendItem(color = durationColor, label = &quot;Durasi (mnt)&quot;)&#10;        }&#10;&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .height(barAreaHeight),&#10;            horizontalArrangement = Arrangement.spacedBy(12.dp),&#10;            verticalAlignment = Alignment.Bottom&#10;        ) {&#10;            dailyProgress.forEach { entry -&gt;&#10;                val caloriesHeight = ((entry.totalCalories / maxValue) * barAreaHeight.value).toFloat().dp&#10;                val durationHeight = ((entry.totalDurationMinutes / maxValue) * barAreaHeight.value).toFloat().dp&#10;&#10;                Column(&#10;                    modifier = Modifier.weight(1f),&#10;                    horizontalAlignment = Alignment.CenterHorizontally,&#10;                    verticalArrangement = Arrangement.Bottom&#10;                ) {&#10;                    Row(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .height(barAreaHeight - 12.dp),&#10;                        horizontalArrangement = Arrangement.spacedBy(8.dp),&#10;                        verticalAlignment = Alignment.Bottom&#10;                    ) {&#10;                        Bar(valueHeight = caloriesHeight, color = caloriesColor)&#10;                        Bar(valueHeight = durationHeight, color = durationColor)&#10;                    }&#10;                    Spacer(modifier = Modifier.height(8.dp))&#10;                    Text(&#10;                        text = entry.dateLabel,&#10;                        style = MaterialTheme.typography.labelMedium,&#10;                        fontWeight = FontWeight.Medium,&#10;                        color = MaterialTheme.colorScheme.onBackground&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun Bar(valueHeight: Dp, color: Color) {&#10;    Box(&#10;        modifier = Modifier&#10;            .width(16.dp)&#10;            .height(valueHeight.coerceAtLeast(6.dp))&#10;            .background(color, RoundedCornerShape(topStart = 10.dp, topEnd = 10.dp))&#10;    )&#10;}&#10;&#10;@Composable&#10;private fun LegendItem(color: Color, label: String) {&#10;    Row(&#10;        verticalAlignment = Alignment.CenterVertically,&#10;        horizontalArrangement = Arrangement.spacedBy(6.dp)&#10;    ) {&#10;        Box(&#10;            modifier = Modifier&#10;                .size(14.dp)&#10;                .background(color, RoundedCornerShape(4.dp))&#10;        )&#10;        Text(&#10;            text = label,&#10;            style = MaterialTheme.typography.labelSmall,&#10;            color = MaterialTheme.colorScheme.onSurfaceVariant&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun HighlightStat(&#10;    title: String,&#10;    value: String,&#10;    icon: androidx.compose.ui.graphics.vector.ImageVector,&#10;    accent: Color,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Card(&#10;        modifier = modifier,&#10;        shape = RoundedCornerShape(16.dp),&#10;        colors = CardDefaults.cardColors(containerColor = MaterialTheme.colorScheme.background),&#10;        border = BorderStroke(1.dp, accent.copy(alpha = 0.35f)),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 2.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .padding(vertical = 12.dp, horizontal = 14.dp),&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(34.dp)&#10;                    .background(accent.copy(alpha = 0.14f), CircleShape),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Icon(&#10;                    imageVector = icon,&#10;                    contentDescription = null,&#10;                    tint = accent&#10;                )&#10;            }&#10;            Column(verticalArrangement = Arrangement.spacedBy(2.dp)) {&#10;                Text(&#10;                    text = title,&#10;                    style = MaterialTheme.typography.bodySmall,&#10;                    color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                )&#10;                Text(&#10;                    text = value,&#10;                    style = MaterialTheme.typography.titleMedium,&#10;                    fontWeight = FontWeight.Bold&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun StatChip(&#10;    title: String,&#10;    value: String,&#10;    icon: androidx.compose.ui.graphics.vector.ImageVector,&#10;    iconColor: Color,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Card(&#10;        modifier = modifier,&#10;        shape = RoundedCornerShape(16.dp),&#10;        colors = CardDefaults.cardColors(containerColor = MaterialTheme.colorScheme.background),&#10;        border = BorderStroke(&#10;            width = 1.dp,&#10;            brush = Brush.linearGradient(&#10;                listOf(&#10;                    MaterialTheme.colorScheme.primary.copy(alpha = 0.6f),&#10;                    MaterialTheme.colorScheme.secondary.copy(alpha = 0.6f)&#10;                )&#10;            )&#10;        ),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 4.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier.padding(vertical = 12.dp, horizontal = 14.dp),&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Icon(&#10;                imageVector = icon,&#10;                contentDescription = null,&#10;                tint = iconColor,&#10;                modifier = Modifier.size(28.dp)&#10;            )&#10;            Column(&#10;                verticalArrangement = Arrangement.spacedBy(2.dp)&#10;            ) {&#10;                Text(&#10;                    text = title,&#10;                    style = MaterialTheme.typography.bodySmall,&#10;                    color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                )&#10;                Text(&#10;                    text = value,&#10;                    style = MaterialTheme.typography.titleMedium,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = MaterialTheme.colorScheme.onBackground&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun WorkoutOptionCard(&#10;    workout: Workout,&#10;    onClick: () -&gt; Unit&#10;) {&#10;    Card(&#10;        onClick = onClick,&#10;        colors = CardDefaults.cardColors(&#10;            containerColor = MaterialTheme.colorScheme.surfaceVariant,&#10;            contentColor = MaterialTheme.colorScheme.onSurfaceVariant&#10;        ),&#10;        modifier = Modifier.fillMaxWidth(),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 6.dp),&#10;        shape = RoundedCornerShape(16.dp)&#10;    ) {&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(horizontal = 8.dp, vertical = 12.dp),&#10;            horizontalAlignment = Alignment.CenterHorizontally,&#10;            verticalArrangement = Arrangement.Center&#10;        ) {&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(44.dp)&#10;                    .background(&#10;                        color = MaterialTheme.colorScheme.background,&#10;                        shape = CircleShape&#10;                    )&#10;                    .border(&#10;                        width = 1.5.dp,&#10;                        brush = Brush.linearGradient(&#10;                            colors = listOf(&#10;                                MaterialTheme.colorScheme.primary,&#10;                                MaterialTheme.colorScheme.secondary&#10;                            )&#10;                        ),&#10;                        shape = CircleShape&#10;                    ),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Icon(&#10;                    imageVector = workout.name.getWorkoutIcon(),&#10;                    contentDescription = null,&#10;                    tint = MaterialTheme.colorScheme.primary,&#10;                    modifier = Modifier.size(24.dp)&#10;                )&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(6.dp))&#10;            &#10;            Text(&#10;                text = workout.name,&#10;                style = MaterialTheme.typography.labelLarge,&#10;                fontWeight = FontWeight.Bold&#10;            )&#10;            Text(&#10;                text = &quot;MET ${workout.met}&quot;,&#10;                style = MaterialTheme.typography.labelSmall,&#10;                color = MaterialTheme.colorScheme.onSurfaceVariant&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun WorkoutHistory(&#10;    logs: List&lt;WorkoutLog&gt;,&#10;    onDeleteLogRequested: (WorkoutLog) -&gt; Unit,&#10;    onDeleteAllRequested: () -&gt; Unit,&#10;    onLogClick: (WorkoutLog) -&gt; Unit = {}&#10;) {&#10;    Column(verticalArrangement = Arrangement.spacedBy(12.dp)) {&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Text(&#10;                text = &quot;Workout Terbaru&quot;,&#10;                style = MaterialTheme.typography.titleMedium.copy(fontWeight = FontWeight.Bold),&#10;                color = MaterialTheme.colorScheme.onBackground&#10;            )&#10;&#10;            if (logs.isNotEmpty()) {&#10;                IconButton(onClick = onDeleteAllRequested) {&#10;                    Icon(&#10;                        imageVector = Icons.Default.DeleteForever,&#10;                        contentDescription = &quot;Hapus semua aktivitas&quot;,&#10;                        tint = MaterialTheme.colorScheme.error&#10;                    )&#10;                }&#10;            }&#10;        }&#10;&#10;        if (logs.isEmpty()) {&#10;            Text(&#10;                text = &quot;Belum ada aktivitas hari ini&quot;,&#10;                style = MaterialTheme.typography.bodyMedium,&#10;                color = MaterialTheme.colorScheme.onSurfaceVariant&#10;            )&#10;        } else {&#10;            val sortedLogs = logs.sortedByDescending { it.timestamp }&#10;            Column(verticalArrangement = Arrangement.spacedBy(10.dp)) {&#10;                sortedLogs.forEach { log -&gt;&#10;                    Card(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .clickable { onLogClick(log) },&#10;                        colors = CardDefaults.cardColors(containerColor = MaterialTheme.colorScheme.surfaceVariant),&#10;                        shape = RoundedCornerShape(16.dp),&#10;                        elevation = CardDefaults.cardElevation(defaultElevation = 8.dp)&#10;                    ) {&#10;                        Row(&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .padding(14.dp),&#10;                            horizontalArrangement = Arrangement.spacedBy(12.dp),&#10;                            verticalAlignment = Alignment.CenterVertically&#10;                        ) {&#10;                            // Icon / image workout&#10;                            if (log.imageUri != null) {&#10;                                Box(&#10;                                    modifier = Modifier&#10;                                        .size(56.dp)&#10;                                        .background(&#10;                                            color = MaterialTheme.colorScheme.background,&#10;                                            shape = RoundedCornerShape(12.dp)&#10;                                        )&#10;                                        .border(&#10;                                            width = 1.5.dp,&#10;                                            brush = Brush.linearGradient(&#10;                                                colors = listOf(&#10;                                                    MaterialTheme.colorScheme.primary,&#10;                                                    MaterialTheme.colorScheme.secondary&#10;                                                )&#10;                                            ),&#10;                                            shape = RoundedCornerShape(12.dp)&#10;                                        ),&#10;                                    contentAlignment = Alignment.Center&#10;                                ) {&#10;                                    Image(&#10;                                        painter = rememberAsyncImagePainter(log.imageUri),&#10;                                        contentDescription = null,&#10;                                        modifier = Modifier.fillMaxSize(),&#10;                                        contentScale = ContentScale.Fit&#10;                                    )&#10;                                }&#10;                            } else {&#10;                                Box(&#10;                                    modifier = Modifier&#10;                                        .size(48.dp)&#10;                                        .background(&#10;                                            color = MaterialTheme.colorScheme.background,&#10;                                            shape = CircleShape&#10;                                        )&#10;                                        .border(&#10;                                            width = 1.5.dp,&#10;                                            brush = Brush.linearGradient(&#10;                                                colors = listOf(&#10;                                                    MaterialTheme.colorScheme.primary,&#10;                                                    MaterialTheme.colorScheme.secondary&#10;                                                )&#10;                                            ),&#10;                                            shape = CircleShape&#10;                                        ),&#10;                                    contentAlignment = Alignment.Center&#10;                                ) {&#10;                                    Icon(&#10;                                        imageVector = log.workout.getWorkoutIcon(),&#10;                                        contentDescription = null,&#10;                                        tint = MaterialTheme.colorScheme.primary,&#10;                                        modifier = Modifier.size(24.dp)&#10;                                    )&#10;                                }&#10;                            }&#10;&#10;                            // Info workout&#10;                            Column(&#10;                                modifier = Modifier.weight(1f),&#10;                                verticalArrangement = Arrangement.spacedBy(6.dp)&#10;                            ) {&#10;                                Text(&#10;                                    text = log.workout,&#10;                                    style = MaterialTheme.typography.titleSmall,&#10;                                    fontWeight = FontWeight.Bold&#10;                                )&#10;&#10;                                // Durasi dengan icon jam&#10;                                Row(&#10;                                    horizontalArrangement = Arrangement.spacedBy(6.dp),&#10;                                    verticalAlignment = Alignment.CenterVertically&#10;                                ) {&#10;                                    Icon(&#10;                                        imageVector = Icons.Default.AccessTime,&#10;                                        contentDescription = null,&#10;                                        tint = MaterialTheme.colorScheme.onSurfaceVariant,&#10;                                        modifier = Modifier.size(16.dp)&#10;                                    )&#10;                                    Text(&#10;                                        text = &quot;${formatMinutes(log.durationMinutes)} · ${log.calories.toInt()} kcal&quot;,&#10;                                        style = MaterialTheme.typography.bodyMedium,&#10;                                        color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                                    )&#10;                                }&#10;&#10;                                // Tanggal dan waktu dengan icon kalender&#10;                                Row(&#10;                                    horizontalArrangement = Arrangement.spacedBy(6.dp),&#10;                                    verticalAlignment = Alignment.CenterVertically&#10;                                ) {&#10;                                    Icon(&#10;                                        imageVector = Icons.Default.CalendarToday,&#10;                                        contentDescription = null,&#10;                                        tint = MaterialTheme.colorScheme.onSurfaceVariant,&#10;                                        modifier = Modifier.size(16.dp)&#10;                                    )&#10;                                    Text(&#10;                                        text = &quot;${log.date} · ${log.time}&quot;,&#10;                                        style = MaterialTheme.typography.bodySmall,&#10;                                        color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                                    )&#10;                                }&#10;                            }&#10;&#10;                            IconButton(onClick = { onDeleteLogRequested(log) }) {&#10;                                Icon(&#10;                                    imageVector = Icons.Default.Delete,&#10;                                    contentDescription = &quot;Hapus aktivitas&quot;,&#10;                                    tint = MaterialTheme.colorScheme.onSurfaceVariant&#10;                                )&#10;                            }&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;private fun formatMinutes(minutes: Double): String {&#10;    return &quot;${&quot;%.1f&quot;.format(minutes)} menit&quot;&#10;}&#10;&#10;private fun String.getWorkoutIcon() = when (lowercase()) {&#10;    &quot;yoga&quot; -&gt; Icons.Default.SelfImprovement&#10;    &quot;running&quot; -&gt; Icons.Default.DirectionsRun&#10;    &quot;stretching&quot; -&gt; Icons.Default.AccessibilityNew&#10;    &quot;hiit&quot; -&gt; Icons.Default.Bolt&#10;    &quot;cycling&quot; -&gt; Icons.Default.DirectionsBike&#10;    &quot;walking&quot; -&gt; Icons.Default.DirectionsWalk&#10;    else -&gt; Icons.Default.FitnessCenter&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>